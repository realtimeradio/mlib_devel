name: sparrow
manufacturer: Xilinx
fpga: xc7z030ffg676-2
backend_target: vivado
config_voltage: 1.8
cfgbvs: GND
mmbus_architecture: ['AXI4-Lite', 'wishbone']
# AXI base addr
mmbus_base_address:  0x50000000
# WB base addr
dsp_wb_base_address: 0x51000000
sources: []
constraints: []
provides:
  - sfp0
  - sfp1
  - sfp2
  - sfp3
  - white_rabbit
  - sys_clk
  - sys_clk90
  - sys_clk180
  - sys_clk270
white_rabbit:
  separate_dac_i2c: False
  use_sfp_disable: False
  use_osc_enable: True
  use_tx_fault: False
  use_flash_wp: True
  master_ref_signal: clk_10
  use_external_uart: False
  vcxo_freq_mhz: 25
  wr_clk_output_pin: gpio
  wr_clk_output_pin_index: 0
pins:
  #sys_clk_p:
  #  loc: 
  #  iostd: LVDS_25
  #sys_clk_n:
  #  loc: 
  #  iostd: LVDS_25
  gpio:
    iostd: LVCMOS18
    loc:
      - C16
      - C17
      - E15
      - F15
      - D6
      - A5
      - C6
      - E7

  led:
    iostd: LVCMOS33
    loc:
      # LED0 R,G,B
      - V18
      - W18
      - V19
      # LED1 R,G,B
      - Y18
      - AA18
      - AA19
      # LED3
      - AC24
      # LED4
      - AB25

  # 10 GbE clock (schematic net MGTCLK0[P|N], OUT1 of SI5332)
  # Should be 156.25 MHz
  eth_clk_p:
    loc:
      - R6
  eth_clk_n:
    loc: 
      - R5
  # 1 GbE clock (schematic net MGTCLK1[P|N], OUT0 of SI5332)
  # Should be 125 MHz
  eth_clk_125_p:
    loc:
      - U6
  eth_clk_125_n:
    loc: 
      - U5

  mgt_tx_p:
    loc: [AA2, W2, U2, R2]
  mgt_tx_n:
    loc: [AA1, W1, U1, R1]
  mgt_rx_p:
    loc: [AB4, Y4, V4, T4]
  mgt_rx_n:
    loc: [AB3, Y3, V3, T3]

  sfp_npresent:
    iostd: LVCMOS33
    loc: [AF25, AD25, AE20, AF23]

  ads5404_sync_p:
    iostd: LVDS
    loc: J14
  ads5404_sync_n:
    iostd: LVDS
    loc: H14
  ads5404_sreset:
    iostd: LVCMOS18
    loc: C2
  ads5404_enable:
    iostd: LVCMOS18
    loc: B1
  ads5404_daclk_p:
    iostd: LVDS
    loc: D15
  ads5404_daclk_n:
    iostd: LVDS
    loc: D14
  ads5404_dbclk_p:
    iostd: LVDS
    loc: C8
  ads5404_dbclk_n:
    iostd: LVDS
    loc: C7
  ads5404_syncout_p:
    iostd: LVDS
    loc: G14
  ads5404_syncout_n:
    iostd: LVDS
    loc: F14
  ads5404_ovra_p:
    iostd: LVDS
    loc: K13
  ads5404_ovra_n:
    iostd: LVDS
    loc: J13
  ads5404_ovrb_p:
    iostd: LVDS
    loc: J10
  ads5404_ovrb_n:
    iostd: LVDS
    loc: J9
  ads5404_da_p:
    iostd: LVDS
    loc: [F12, C11, E11, H13, E10, C14, C12, B16, E16, A13, G16, B17]
  ads5404_da_n:
    iostd: LVDS
    loc: [E12, B11, D11, H12, D10, B14, B12, B15, D16, A12, G15, A17]
  ads5404_db_p:
    iostd: LVDS
    loc: [B2, A4, E6, F5, B5, G6, A9, B10, D9, H7, B7, J11]
  ads5404_db_n:
    iostd: LVDS
    loc: [A2, A3, D5, E5, B4, G5, A8, A10, D8, H6, A7, H11]
  ads5404_sclk:
    iostd: LVCMOS18
    loc: G7
  ads5404_sdio:
    iostd: LVCMOS18
    loc: F7
  ads5404_sdenb:
    iostd: LVCMOS18
    loc: C4
  ads5404_sdo:
    iostd: LVCMOS18
    loc: F8

  adc_en:
    loc: AE17
    iostd: LVCMOS33

  pll_sdi:
    iostd: LVCMOS33
    loc: Y17
  pll_sdo:
    iostd: LVCMOS33
    loc: AB17
  pll_sen:
    iostd: LVCMOS33
    loc: AA15
  pll_sclk:
    iostd: LVCMOS33
    loc: AB14

  # White Rabbit
  wr_osc_en:
    loc: AF15
    iostd: LVCMOS33

  wr_20m_vcxo:
    loc: AC13
    iostd: LVCMOS33

  # WR refs as 1Gb
  wr_125m_gtrefclk_p:
    loc: U6
  wr_125m_gtrefclk_n:
    loc: U5

  # The first SFP port
  wr_sfp_tx_p:
    loc: AA2
  wr_sfp_tx_n:
    loc: AA1
  wr_sfp_rx_p:
    loc: AB4
  wr_sfp_rx_n:
    loc: AB3

  wr_sfp_mod_def1: # AKA SCL
    loc: AD24
    iostd: LVCMOS33
  wr_sfp_mod_def2: # AKA SDA
    loc: AD26
    iostd: LVCMOS33
  wr_sfp_los:
    loc: AF25 # This is really nPresent
    iostd: LVCMOS33

  # D-sub GPIO for now
  wr_uart_rx:
    loc: C16
    iostd: LVCMOS18
  wr_uart_tx:
    loc: C17
    iostd: LVCMOS18

  # Flash interface
  wr_spi_cs_n:
    loc: AE10
    iostd: LVCMOS33
  wr_spi_miso:
    loc: AF10
    iostd: LVCMOS33
  wr_spi_mosi:
    loc: AF13
    iostd: LVCMOS33
  wr_spi_sclk:
    loc: AD11
    iostd: LVCMOS33
  wr_flash_wp:
    loc: AE11
    iostd: LVCMOS33

  wr_dac_25m_cs_n:
    loc: AE12
    iostd: LVCMOS33
  wr_dac_20m_cs_n: # Really 25 MHz as well...
    loc: AE13
    iostd: LVCMOS33
  wr_dac_mosi:
    loc: AD10
    iostd: LVCMOS33
  wr_dac_sclk:
    loc: AD13
    iostd: LVCMOS33

  wr_onewire:
    loc: AB15
    iostd: LVCMOS33

  spi_flash_data:
    iostd: LVCMOS33
    loc: [AF13, AF10, AE11, AF12]
  spi_flash_clk:
    iostd: LVCMOS33
    loc: AD11
  spi_flash_csn:
    iostd: LVCMOS33
    loc: AE10
  
  #sfp_disable:
  #  iostd: LVCMOS25
  #  loc: [W20, V19, W19]


  #adc_csn:
  #  iostd: LVCMOS18
  #  loc:
  #    - AF3
  #    - AF10
  #    - V14
  #adc_rst_n:
  #  iostd: LVCMOS18
  #  loc:
  #    - AE5
  #    - AF13
  #    - V19
  #adc_pd:
  #  iostd: LVCMOS18
  #  loc:
  #    - AE3
  #    - AE8
  #    - W15
  #adc_sdata:
  #  iostd: LVCMOS18
  #  loc:
  #    - AF2
  #    - AF9
  #    - W14
  #adc_sclk:
  #  iostd: LVCMOS33
  #  loc:
  #    - M17
  #    - L18
  #    - K16
  #adc_lclkp:
  #  iostd: LVDS
  #  loc:
  #    - AA3
  #adc_lclkn:
  #  iostd: LVDS
  #  loc:
  #    - AA2
  ## ADC data pins, named as per schematic.
  ## Even pins are _p, odd are _n.
  #adc0_out:
  #  iostd: LVDS
  #  loc:
  #    - V2
  #    - V1
  #    - U2
  #    - U1
  #    - W6
  #    - W5
  #    - U7
  #    - V6
  #    - V3
  #    - W3
  #    - Y3
  #    - Y2
  #    - AD6
  #    - AD5
  #    - AD4
  #    - AD3
  #adc1_out:
  #  iostd: LVDS
  #  loc:
  #    - V8
  #    - V7
  #    - W10
  #    - W9
  #    - Y8
  #    - Y7
  #    - Y11
  #    - Y10
  #    - AB12
  #    - AC12
  #    - AA13
  #    - AA12
  #    - AA8
  #    - AA7
  #    - AC8
  #    - AD8
  #adc2_out:
  #  iostd: LVDS
  #  loc:
  #    - AF14
  #    - AF15
  #    - AD15
  #    - AE15
  #    - AE18
  #    - AF18
  #    - AF19
  #    - AF20
  #    - AA14
  #    - AA15
  #    - AC14
  #    - AD14
  #    - AB19
  #    - AB20
  #    - AA19
  #    - AA20
  #clk_sel_a:
  #  iostd: LVCMOS33
  #  loc:
  #    - A18
  #clk_sel_b:
  #  iostd: LVCMOS33
  #  loc:
  #    - A19
  #lmx2581_clk:
  #  iostd: LVCMOS33
  #  loc: H16
  #lmx2581_data:
  #  iostd: LVCMOS33
  #  loc: J15
  #lmx2581_muxout:
  #  iostd: LVCMOS33
  #  loc: J19
  #lmx2581_le:
  #  iostd: LVCMOS33
  #  loc: J16
  #lmx2581_ce:
  #  iostd: LVCMOS33
  #  loc: G15
  #lmx2581_be:
  #  iostd: LVCMOS33
  #  loc: F15
  #xadc_p:
  #  loc: N12
  #xadc_n:
  #  loc: P11

